using System;
using System.Collections.Generic;

namespace ElectronicsShop
{
    internal class Program
    {
        private static void Main()
        {
            string _keyboards = "659073 408077 27103 551847 222023 253946 231127 196158 672045 505622 19715 595184 104133 339348 800097 569572 178585 887661 652894 556848 238237 720976 99464 805497 243227 988952 722430 603334 855890 807032 830407 962867 397273 944623 668236 141114 205031 406484 293214 324064 896538 86945 13005 633384 85528 736071 207934 848320 26539 122805 181477 876642 583173 643071 421520 704105 892873 910830 817628 624903 341895 335942 259482 825294 379778 363141 590428 34236 268125 830842 624290 345270 409504 774009 552172 362840 436225 861262 294533 219560 948667 974767 763778 779935 140145 114264 868664 565905 487541 985590 894754 471172 800036 182149 425310 484888 22475 512574 268738 741855 541757 699004 633621 402641 257946 218073 139388 645200 835119 421799 984624 132307 525809 900776 171718 691378 272369 683338 18395 822770 914505 529782 117778 815239 576647 498203 274117 67191 554303 405340 651568 497577 829929 720365 206468 106603 10999 140051 136917 263744 900222 266559 874087 732350 597548 250788 600653 633241 665187 494386 175411 573424 914618 838296 418865 404473 383225 771086 519035 422132 46977 353952 166321 958844 738200 184413 82818 90358 603288 771160 245405 68266 389384 837268 288759 437292 355753 915720 719208 721696 297189 610543 566533 949521 476158 396739 663821 954302 937041 135032 732738 483864 214989 269973 31191 539965 262324 162051 595212 841720 51438 846599 496479 955452 596978 154707 334320 623473 771086 474345 106623 344462 75155 351620 728353 412887 495603 705085 688558 598421 434926 459786 246458 75951 819287 77783 799596 2340 694853 967918 272207 5255 590364 103117 361056 314668 91603 807613 917521 962316 136850 790192 950452 690716 446107 521419 185175 86725 542024 958387 873143 758564 732390 639094 806743 759207 658932 724267 692433 637376 849387 980798 249725 903568 489536 646811 221260 693332 987891 51608 944273 670069 39436 44176 705735 588397 925457 999579 180617 555932 568074 473317 915695 312926 33954 120550 697578 731189 297416 192643 924605 115308 971277 421858 944480 795522 474322 745233 862237 54895 844740 455247 319173 522553 829103 644692 37016 650314 596405 364780 230061 560804 120595 481171 76971 885198 696446 530385 339952 441132 724931 404577 65372 572557 315362 804159 539613 538523 790902 661805 318825 738022 626033 520286 886178 426914 616002 876863 233012 417601 24407 462047 870295 990565 21275 238 874899 185515 529057 384051 939280 932800 798964 70046 998159 9488 350791 52696 767362 88564 402022 37606 479984 479890 627647 580889 873874 271749 984306 398378 768447 91720 417861 336447 421452 522637 737749 732437 238831 3348 110499 467417 354703 297070 287304 853014 296375 715715 233661 589242 42103 277329 17878 910545 987945 45111 427870 109493 384414 391719 679801 124466 218304 956632 950176 798170 786523 259041 89432 588687 417675 982552 879317 884399 944945 600934 467507 903928 613550 989408 167072 743521 991392 65002 231724 401671 942945 838015 649793 230622 607874 830830 512805 120366 230722 46956 176568 384178 220536 36741 186481 957486 779761 826392 350205 800951 57856 629920 969321 216373 883985 518378 927962 597409 995132 525150 173935 260292 396332 515364 758410 491297 696178 996561 153931 897639 816017 463486 224492 623078 223869 748041 537096 34874 593074 895124 580217 860321 91508 457536 877659 391258 265660 273021 129545 476785 888949 44387 955867 852386 862322 35431 809699 329126 655390 931800 550982 735379 87007 281455 408546 252707 372773 5084 259813 695872 723584 48795 495988 532723 81065 962339 220233 109494 683413 894682 76149 991699 851399 61531 495259 883106 480695 516196 592542 906718 824867 571448 347888 662262 678169 543902 565860 864688 267089 734076 878828 521378 797606 868357 658601 245341 850774 157377 867490 160437 708523 334085 837202 238744 697629 930300 680294 105858 618751 699149 752887 189265 158641 881836 881070 961532 872040 465575 29254 879270 826003 5147 128899 820132 335195 228677 743676 908907 160797 1121 818152 556308 832322 756807 507583 258747 6388 193177 287103 84118 617066 326508 981408 559971 631956 115870 259863 376781 634149 9075 540108 818864 780022 128478 107005 283407 761200 18432 541389 432339 963209 840311 341950 392240 632765 179538 932239 753869 102533 788985 937440 173793 688041 771028 67853 947512 301032 166416 708332 771158 67366 708732 582302 473681 345961 57934 621056 74712 45753 852607 871734 990372 973709 676205 969097 446059 749821 647720 130116 594530 758435 383699 24593 65641 22129 821699 323684 371918 488754 818971 770581 252566 683450 1030 446004 158975 273689 468645 997350 944517 426278 102217 451489 854403 163661 527143 794989 826107 693839 298442 220820 840137 82400 772997 680653 230106 654659 131365 273322 868250 951078 963454 151092 31310 432433 731435 943829 909730 419822 857554 638670 964738 397684 760266 274277 442399 984200 312023 409427 320815 894301 724586 230007 746006 213153 200405 31142 868319 651814 715086";
            string[] keyboards = _keyboards.Split(' ');
            int[] newKeyboards = Array.ConvertAll(keyboards, i => Convert.ToInt32(i));

            string _drives = "898953 930034 978299 915436 915705 926910 994916 865462 869668 872576 978982 854567 964255 864568 963347 912582 975167 924850 961763 842837 940191 967488 860981 887053 845184 985897 987339 994807 938659 869657 967446 913927 917035 840176 858751 935727 860012 937164 949688 879592 908839 929340 872068 876071 918647 865715 850254 944239 933110 892135 883025 934437 967610 909310 889645 997501 912826 863915 841838 914327 851572 948870 902788 903276 916782 995957 935998 955500 886652 945114 951194 961128 977621 992428 964776 985254 846319 955884 916873 959865 856770 863330 878712 856428 997871 931339 862782 842918 919814 917169 938900 873640 952392 895351 929537 964128 841542 990602 892221 851567 922826 925472 854040 981208 896088 853182 845292 971923 852553 897236 903497 891522 861217 996400 930800 872121 950312 950908 968094 971431 872008 846569 866780 947258 856712 992252 941825 859857 953034 983398 845033 935159 989798 938652 848295 938066 926601 887800 953447 989636 979357 991580 954252 940044 968277 965347 894300 937956 970373 917495 852799 945728 983173 928474 927608 935591 970768 965413 912362 916936 942968 846500 924217 866223 957053 910168 853042 955970 849636 934919 879522 944043 865510 916676 979487 938514 875059 892630 996143 915220 893891 959083 869122 979495 966352 909375 945390 846966 919703 865850 928852 843317 955070 944518 876537 893158 999419 926790 995972 918916 944048 853025 871911 904511 948833 875274 851532 906934 844884 872557 881215 974474 914011 867854 978926 993729 956345 906535 958832 975401 908069 940598 895337 957654 899355 962835 998029 920767 846397 926921 978727 922232 932582 934084 910169 844682 956039 903272 917859 936985 979750 935630 984115 966873 907465 944798 884278 998747 934771 885403 985981 897452 873690 901404 939670 914521 941045 973761 957296 877712 861033 964160 954530 904839 985448 936292 868733 941202 877992 899644 995428 922011 868940 906075 976703 851042 918756 909937 879542 855564 979322 904793 911239 934862 922363 932701 897466 946016 934867 855223 866147 944336 902562 889931 995111 903837 881287 977280 945074 841424 892018 934140 963755 935789 860922 903455 995176 877909 912597 877533 877753 981396 851740 910714 867144 892930 923156 911795 893908 947099 972622 863304 908932 911900 879780 934056 938738 991778 953082 880390 866710 897468 866802 900686 845847 936881 957823 897065 946205 925355 915932 965086 975069 952859 968908 911410 933651 978277 978925 929296 872919 926378 857889 845449 883146 997876 849114 859657 924980 876966 989861 848251 846275 942396 859519 875937 912343 868785 989424 854150 890572 856511 921150 933542 846631 950110 863717 903570 997866 916775 994424 949752 840769 842760 992294 891688 942255 995701 978869 932812 912749 880661 922488 923469 918207 894812 946695 925152 862326 860101 844775 861216 889256 862949 952747 990375 872281 957262 947746 865964 995191 870119 855005 956931 947613 864969 910991 877515 978905 994140 868327 880834 950817 945858 974100 996586 991142 899876 949317 842782 919540 879049 938851 972941 979027 978339 931292 962962 844841 858079 988956 967282 950321 986992 948239 936092 874492 990544 945418 972295 903007 946712 944193 932344 857036 895760 945252 865469 999912 936788 847694 890885 996353 978632 905095 998939 979323 960387 965181 854458 930716 886176 958150 857439 980565 944078 904652 962430 892313 988112 946812 910098 969256 984223 961965 980465 967650 890738 909684 979026 970854 900096 859215 887486 927112 943848 840900 892528 891921 940829 898622 937568 903377 930144 951272 900856 902158 927753 911782 935432 877992 927303 899709 911098 876348 842326 851692 933924 936547 866934 946911 942808 939114 961494 914150 920063 900755 926771 978135 992241 923046 975548 916661 986281 844082 970203 894587 857408 900820 863821 903801 924253 932822 879356 925369 916263 937260 903088 962381 927900 970078 959499 954898 954476 992888 923390 842896 971584 871308 908928 841189 983477 943592 851385 983688 992750 878942 944747 988329 900801 849623 871529 989514 916661 896248 871113 856209 866596 917731 938772 881070 923686 885566 947212 889153 988741 968484 925155 926259 932943 889796 854321 937648 954820 954582 903974 883606 996281 906158 971709 859484 923590 868967 859697 948976 977508 869014 967965 924019 869517 953445 887231 857082 966945 930764 869620 881035 986844 994073 907914 917359 853907 968959 970520 928030 899750 846926 924233 941300 857950 992229 840392 936253 942073 971071 922420 981475 934961 876477 966999 873911 943453 937752 867947 905754 897712 974379 984946 984007 963191 896535 929056 877884 880889 964884 888316 883955 957112 971619 976189 907788 947425 946805 969525 855267 962664 939813 863935 912274 907821 933852 864460 866865 877623 957898 979084 978049 915654 874663 925650 855295 868535 843761 889950 942711 876824 937130 872974 927465 942070 877096 881087 902534 941118 935111 849333 919475 862666 998051 883912 861813 935522 951220 948131 904680 910825 908502 911317 954814 955921 950787 842510 998606 894562 860525 970994 856639 936510 955892 893944 932536 984887 883852 963619 852688 882369 853686 943242 983073 935315 870682 904179 891727 898701 876250 894957 896788 938740 851088 910776 923042 973099 850798 947133 968057 851169 877379 942423 926395 883369 980815 934844 944137 948818 925266 876917 891881 913088 893268 870436 947115 848354 999068 900545 945891 898059 929239 999282 956902 911407 914424 893359 849603 932870 929961 854184 993224 993871 868032 941589 950398 960773 872133 867260 925725 905506 855449 907620 912050 971490 960985 840176 895599 888123 946382 997003 967272 915973 988352 901193 877528 859154 903880 995871 864369 843183 998803 957947 988324 962975 926386 878970 974727 947446 923346 854850 939769 881113 854241 966064 960842 978352 860416 937353 972172 921086 965124 865471 953397 850078 845765 858806 888487 876362 882084 894656 897610 900934 854004 895399 989917 878234 928602 921548 888871 972047 903506 884739 911543 990786 936090 979736 922501 865865 987106 965804 919506 931928 998751 930646 976230 902556 873346 920177 988899 903538 858600";
            string[] drives = _drives.Split(' ');
            int[] newDrives = Array.ConvertAll(drives, i => Convert.ToInt32(i));

            Console.WriteLine(GetMoneySpent(newKeyboards, newDrives, 839979));
            Console.ReadLine();
        }

        private static int GetMoneySpent(int[] keyboards, int[] drives, int b)
        {
            bool insufficientFunds = false;
            int theMostExpensiveBase = 0;
            int theMostExpensive = 0;

            for (int i = 0; i < keyboards.Length; i++)
            {
                FirstLoopControl(keyboards, drives, b, ref insufficientFunds, ref theMostExpensiveBase, ref theMostExpensive, i);
            }

            return Result(insufficientFunds, theMostExpensive); ;
        }

        private static void FirstLoopControl(int[] keyboards, int[] drives, int b, ref bool insufficientFunds, ref int theMostExpensiveBase, ref int theMostExpensive, int i)
        {
            int driverLength = drives.Length;
            int keyboardsLength = keyboards.Length;
            int driveValue;
            int keyboardValue;
            for (int j = 0; j < drives.Length; j++)
            {
                driveValue = drives[j];
                keyboardValue = keyboards[i];

                if (keyboardsLength < 2 || driverLength < 2)
                {
                    if (driveValue + keyboardValue > b)
                    {
                        insufficientFunds = true;
                        break;
                    }
                }
                else
                {
                    if (driveValue + keyboardValue <= b) theMostExpensiveBase = driveValue + keyboardValue;
                    if (theMostExpensive < theMostExpensiveBase) theMostExpensive = theMostExpensiveBase;
                }
            }
        }

        private static int Result(bool insufficientFunds, int theMostExpensive)
        {
            int result;
            if (insufficientFunds) result = -1;
            else if (theMostExpensive == 0) result = -1;
            else result = theMostExpensive;
            return result;
        }
    }
}